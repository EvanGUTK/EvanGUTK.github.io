<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EvanGUTK</title>
    <link rel="stylesheet" href="style.css">
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const themeToggle = document.getElementById("theme-toggle");
            const colorPalette = document.getElementById("color-palette");
            const root = document.documentElement;
            const navLinks = document.querySelectorAll("header nav ul li a");
            const blogSection = document.getElementById("blog");
            const projectsSection = document.getElementById("projects");

            // Admin toggle for managing entries
            const isAdmin = localStorage.getItem("isAdmin") === "true";

            // Theme toggle functionality
            themeToggle.addEventListener("click", () => {
                colorPalette.style.display = colorPalette.style.display === "block" ? "none" : "block";
                colorPalette.style.opacity = colorPalette.style.display === "block" ? "1" : "0";
                colorPalette.style.transform = colorPalette.style.display === "block" ? "translateY(0)" : "translateY(-10px)";
            });

            document.addEventListener("click", (event) => {
                if (!themeToggle.contains(event.target) && !colorPalette.contains(event.target)) {
                    colorPalette.style.display = "none";
                }
            });

            // Dark and light mode with persistence
            document.getElementById("dark-mode").addEventListener("click", () => {
                document.body.classList.add("dark");
                localStorage.setItem("theme", "dark");
            });

            document.getElementById("light-mode").addEventListener("click", () => {
                document.body.classList.remove("dark");
                localStorage.setItem("theme", "light");
            });

            // Apply saved theme on load
            if (localStorage.getItem("theme") === "dark") {
                document.body.classList.add("dark");
            }

            // Predefined color options
            const colorOptions = [
                { name: "Tennessee Orange", value: "#FF8200" },
                { name: "Green", value: "#4CAF50" },
                { name: "Blue", value: "#007BFF" },
                { name: "Purple", value: "#6A1B9A" },
                { name: "Red", value: "#D32F2F" },
            ];

            // Create color buttons dynamically
            colorOptions.forEach(color => {
                const button = document.createElement("button");
                button.textContent = color.name;
                button.style.backgroundColor = color.value;
                button.style.color = "#fff";
                button.style.margin = "5px 0";
                button.style.padding = "10px";
                button.style.border = "none";
                button.style.borderRadius = "5px";
                button.style.cursor = "pointer";
                button.addEventListener("click", () => {
                    root.style.setProperty("--primary-color", color.value);
                    document.querySelector("header").style.backgroundColor = color.value;
                    document.querySelector("footer").style.backgroundColor = color.value;
                });
                colorPalette.appendChild(button);
            });

            // Blog entry addition (restricted to admin)
            if (isAdmin) {
                const addBlogButton = document.createElement("button");
                addBlogButton.textContent = "Add Blog Entry";
                addBlogButton.style.marginBottom = "20px";
                blogSection.prepend(addBlogButton);

                addBlogButton.addEventListener("click", () => {
                    const title = prompt("Enter blog title:");
                    const date = prompt("Enter blog date:");
                    const description = prompt("Enter blog description:");

                    if (title && date && description) {
                        const blogEntry = document.createElement("div");
                        blogEntry.classList.add("blog-entry");
                        blogEntry.innerHTML = `
                            <h3>${title}</h3>
                            <p><strong>Date:</strong> ${date}</p>
                            <p>${description}</p>
                            <textarea placeholder="Add your comments here..." style="width: 100%; margin-top: 10px;"></textarea>
                        `;
                        blogSection.appendChild(blogEntry);
                    }
                });
            }

            // Project entry addition (restricted to admin)
            if (isAdmin) {
                const addProjectButton = document.createElement("button");
                addProjectButton.textContent = "Add Project";
                addProjectButton.style.marginBottom = "20px";
                projectsSection.prepend(addProjectButton);

                addProjectButton.addEventListener("click", () => {
                    const title = prompt("Enter project title:");
                    const description = prompt("Enter project description:");
                    const link = prompt("Enter project link (optional):");

                    if (title && description) {
                        const projectEntry = document.createElement("div");
                        projectEntry.classList.add("project-entry");
                        projectEntry.innerHTML = `
                            <h3>${title}</h3>
                            <p>${description}</p>
                            ${link ? `<a href="${link}" target="_blank">View Project</a>` : ""}
                        `;
                        projectsSection.appendChild(projectEntry);
                    }
                });
            }

            // Navigation functionality
            navLinks.forEach(link => {
                link.addEventListener("click", (e) => {
                    e.preventDefault();

                    const targetId = link.getAttribute("href").substring(1);
                    document.querySelectorAll("main section").forEach(section => {
                        section.style.display = "none";
                    });
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.style.display = "block";
                    }
                });
            });

            // Show the home section by default
            document.querySelectorAll("main section").forEach(section => {
                section.style.display = "none";
            });
            document.getElementById("home").style.display = "block";

            // Admin login/logout
            const adminToggleButton = document.createElement("button");
            adminToggleButton.textContent = isAdmin ? "Logout Admin" : "Login as Admin";
            adminToggleButton.style.position = "fixed";
            adminToggleButton.style.bottom = "20px";
            adminToggleButton.style.right = "20px";
            adminToggleButton.style.zIndex = "1000";
            document.body.appendChild(adminToggleButton);

            adminToggleButton.addEventListener("click", () => {
                if (isAdmin) {
                    localStorage.removeItem("isAdmin");
                    alert("Logged out as admin.");
                } else {
                    const password = prompt("Enter admin password:");
                    if (password === "EvanGAdmin2205") {
                        localStorage.setItem("isAdmin", "true");
                        alert("Logged in as admin.");
                    } else {
                        alert("Incorrect password.");
                    }
                }
                location.reload();
            });
        });
    </script>
</head>
<body>
    <div id="theme-toggle">⚙️</div>
    <div id="color-palette" style="display: none; position: fixed; top: 120px; right: 20px; background: white; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
        <button id="dark-mode">Dark Mode</button>
        <button id="light-mode">Light Mode</button>
    </div>

    <header>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#resume">Resume</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#blog">Blog</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home">
            <h2>Welcome to My Website</h2>
            <p>Explore my projects, blogs, and more!</p>
        </section>

        <section id="resume">
            <h2>Resume</h2>
            <p>Download my resume: <a href="resume.pdf" download>Click here</a></p>
        </section>

        <section id="projects">
            <h2>Projects</h2>
            <p>View and manage your projects below:</p>
        </section>

        <section id="blog">
            <h2>Blog</h2>
            <p>Read and create blog entries:</p>
        </section>

        <section id="contact">
            <h2>Contact</h2>
            <p>Email: youremail@example.com</p>
            <p>LinkedIn: <a href="#">Your LinkedIn</a></p>
        </section>
    </main>

    <footer>
        <p>&copy; Evan Goodman. All Rights Reserved.</p>
    </footer>
</body>
</html>
